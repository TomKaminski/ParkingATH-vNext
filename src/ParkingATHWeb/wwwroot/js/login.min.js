function setStatus(){var e=getCurrentForm(),t=$(window).width();t>992&&("login-form"===e||"forgot-form"===e)?$(".card-content.switcher-box").css("margin-left","50%"):992>=t&&("login-form"===e||"forgot-form"===e)&&$(".card-content.switcher-box").css("margin-left","0%")}function getCurrentForm(){return $("#switcher-box").attr("data-current-form")}function setCurrentForm(e){$("#switcher-box").attr("data-current-form",e)}function afterSuccessLogin(e){e.IsValid&&smartAjax.clearValues(),smartAjax.setupAfterSubmit(e),e.IsValid===!0?window.location.replace(e.ReturnUrl):smartAjax.showNotifications(e)}function resizeContainer(){$(".main-container > .row").height($(".register-content > .row").height()+80)}function manageTabIndexAttr(){var e=getCurrentForm(),t=resolverSelectorForTabIndex(e);$(t).find("button, a, input").each(function(){$(this).attr("tabIndex","-1")}),$("#"+e).find("button, a, input").each(function(){$(this).removeAttr("tabindex")})}function resolverSelectorForTabIndex(e){switch(e){case"login-form":return"#register-form, #forgot-form";case"register-form":return"#login-form, #forgot-form";case"forgot-form":return"#register-form, #login-form"}}!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var o=this;if(o.clk=r,"image"==r.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var i=a.offset();o.clk_x=t.pageX-i.left,o.clk_y=t.pageY-i.top}else o.clk_x=t.pageX-r.offsetLeft,o.clk_y=t.pageY-r.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,o=e.param(r,t.traditional).split("&"),i=o.length,s=[];for(a=0;i>a;a++)o[a]=o[a].replace(/\+/g," "),n=o[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function i(a){for(var n=new FormData,o=0;o<a.length;o++)n.append(a[o].name,a[o].value);if(t.extraData){var i=r(t.extraData);for(o=0;o<i.length;o++)i[o]&&n.append(i[o][0],i[o][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var u=s.beforeSend;return s.beforeSend=function(e,r){t.formData?r.data=t.formData:r.data=n,u&&u.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function i(){function t(){try{var e=n(v).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(A),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),o=f.attr2("action"),i="multipart/form-data",u=f.attr("enctype")||f.attr("encoding")||i;T.setAttribute("target",p),c&&!/post/i.test(c)||T.setAttribute("method","POST"),o!=m.url&&T.setAttribute("action",m.url),m.skipEncodingOverride||c&&!/post/i.test(c)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){w=!0,s(S)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?l.push(e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(T)[0]):l.push(e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(T)[0]));m.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{T.submit()}catch(h){var x=document.createElement("form").submit;x.apply(T)}}finally{T.setAttribute("action",o),T.setAttribute("enctype",u),r?T.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!L){if(C=n(v),C||(a("cannot access response document"),t=A),t===S&&x)return x.abort("timeout"),void $.reject(x,"timeout");if(t==A&&x)return x.abort("server abort"),void $.reject(x,"error","server abort");if(C&&C.location.href!=m.iframeSrc||w){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var r,o="success";try{if(w)throw"timeout";var i="xml"==m.dataType||C.XMLDocument||e.isXMLDoc(C);if(a("isXml="+i),!i&&window.opera&&(null===C.body||!C.body.innerHTML)&&--E)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var c=C.body?C.body:C.documentElement;x.responseText=c?c.innerHTML:null,x.responseXML=C.XMLDocument?C.XMLDocument:C,i&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},c&&(x.status=Number(c.getAttribute("status"))||x.status,x.statusText=c.getAttribute("statusText")||x.statusText);var u=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(u);if(l||m.textarea){var f=C.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=C.getElementsByTagName("pre")[0],h=C.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==u&&!x.responseXML&&x.responseText&&(x.responseXML=M(x.responseText));try{k=O(x,u,m)}catch(b){o="parsererror",x.error=r=b||o}}catch(b){a("error caught: ",b),o="error",x.error=r=b||o}x.aborted&&(a("upload aborted"),o=null),x.status&&(o=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===o?(m.success&&m.success.call(m.context,k,"success",x),$.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):o&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,o,r),$.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,o),L=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?g.attr("src",m.iframeSrc):g.remove(),x.responseXML=null},100)}}}var u,l,m,d,p,g,v,x,b,y,w,j,T=f[0],$=e.Deferred();if($.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)u=e(h[l]),o?u.prop("disabled",!1):u.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(g=e(m.iframeTarget),y=g.attr2("name"),y?p=y:g.attr2("name",p)):(g=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(n){}g.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,$.reject(),$;if(x.aborted)return $.reject(),$;b=T.clk,b&&(y=b.name,y&&!b.disabled&&(m.extraData=m.extraData||{},m.extraData[y]=b.value,"image"==b.type&&(m.extraData[y+".x"]=T.clk_x,m.extraData[y+".y"]=T.clk_y)));var S=1,A=2,F=e("meta[name=csrf-token]").attr("content"),D=e("meta[name=csrf-param]").attr("content");D&&F&&(m.extraData=m.extraData||{},m.extraData[D]=F),m.forceSync?i():setTimeout(i,10);var k,C,L,E=50,M=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},I=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,r,a){var n=t.getResponseHeader("content-type")||"",o="xml"===r||!r&&n.indexOf("xml")>=0,i=o?t.responseXML:t.responseText;return o&&"parsererror"===i.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(i=a.dataFilter(i,r)),"string"==typeof i&&("json"===r||!r&&n.indexOf("json")>=0?i=I(i):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(i)),i};return $}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var c,u,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),c=t.type||this.attr2("method"),u=t.url||this.attr2("action"),l="string"==typeof u?e.trim(u):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:c||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],g=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,d);p&&(v=v?v+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(b,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,o=0,i=x.length;i>o;o++)x[o].apply(n,[e,r,a||f,f])},t.error){var y=t.error;t.error=function(e,r,a){var n=t.context||this;y.apply(n,[e,r,a,f])}}if(t.complete){var w=t.complete;t.complete=function(e,r){var a=t.context||this;w.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),T=j.length>0,$="multipart/form-data",S=f.attr("enctype")==$||f.attr("encoding")==$,A=n.fileapi&&n.formdata;a("fileAPI :"+A);var F,D=(T||S)&&!A;t.iframe!==!1&&(t.iframe||D)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){F=s(g)}):F=s(g):F=(T||S)&&A?i(g):e.ajax(t),f.removeData("jqxhr").data("jqxhr",F);for(var k=0;k<h.length;k++)h[k]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(o.s,o.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var o,i=this[0],s=this.attr("id"),c=t?i.getElementsByTagName("*"):i.elements;if(c&&!/MSIE [678]/.test(navigator.userAgent)&&(c=e(c).get()),s&&(o=e(':input[form="'+s+'"]').get(),o.length&&(c=(c||[]).concat(o))),!c||!c.length)return a;var u,l,f,m,d,p,h;for(u=0,p=c.length;p>u;u++)if(d=c[u],f=d.name,f&&!d.disabled)if(t&&i.clk&&"image"==d.type)i.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:i.clk_x},{name:f+".y",value:i.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var g=d.files;if(g.length)for(l=0;l<g.length;l++)a.push({name:f,value:g[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&i.clk){var v=e(i.clk),x=v[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:v.val()}),a.push({name:f+".x",value:i.clk_x},{name:f+".y",value:i.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var o=0,i=n.length;i>o;o++)r.push({name:a,value:n[o]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var o=this[a],i=e.fieldValue(o,t);null===i||"undefined"==typeof i||i.constructor==Array&&!i.length||(i.constructor==Array?e.merge(r,i):r.push(i))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,o=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var i=t.selectedIndex;if(0>i)return null;for(var s=[],c=t.options,u="select-one"==n,l=u?i+1:c.length,f=u?i:0;l>f;f++){var m=c[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),u)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});var smartAjax=function(){function e(){$("#"+t+" .preloader-wrapper").show(),$("#"+t+" .smart-move-btn,#"+t+" .smart-form-btn").addClass("disabled")}var t,r=function(e){t=e},a=function(e){for(var t=0;t<e.SuccessNotifications.length;t++){var r=$("<span>"+e.SuccessNotifications[t]+"</span>");Materialize.toast(r,8e3,"toast-green")}for(var a=0;a<e.ValidationErrors.length;a++){var n=$("<span>"+e.ValidationErrors[a]+"</span>");Materialize.toast(n,8e3)}},n=function(){$("#"+t).each(function(){$(this).find("input[type=text], input[type=password]").each(function(){$(this).removeClass("input-validation-error").removeClass("valid"),$(this).val(null)}),$(this).find("span.field-validation-error").each(function(){$(this).remove()}),$(this).find("label").each(function(){$(this).removeClass("active")})})},o=function(){$("#"+t).each(function(){$(this).find("input[type=text], input[type=password]").each(function(){$(this).val(null)}),$(this).find("label").each(function(){$(this).removeClass("active")})})},i=function(){$("#"+t+" .preloader-wrapper").hide(),$("#"+t+" .smart-move-btn,#"+t+" .smart-form-btn").removeClass("disabled")},s=function(){e()},c=function(e){e.IsValid&&o(),i(),a(e)},u=function(){i();var e=$("<span>Wystąpił błąd serwera - spróbuj później.</span>");Materialize.toast(e,8e3)},l={beforeSubmit:s,success:c,error:u},f=function(e){return!$(e).hasClass("disabled")};return{defaultOptions:l,onError:u,afterSuccess:c,beforeSubmit:s,clearValues:o,clearFormErrors:n,showNotifications:a,setCurrentForm:r,checkIfNotDisabled:f,setupAfterSubmit:i}}();$(document).ready(function(){$(".preloader-wrapper").hide(),$(".smart-form-btn").click(function(e){if(e.preventDefault(),!$(this).hasClass("disabled")){var t=$(this).data("form-id");smartAjax.setCurrentForm(t),$("#"+t).submit()}}),$(".smart-move-btn").click(function(e){smartAjax.checkIfNotDisabled(this)||e.preventDefault()})}),$(document).ready(function(){resizeContainer(),$(window).resize(function(){resizeContainer()}),manageTabIndexAttr(),$("#moveRegister, #moveRegister2").click(function(){smartAjax.checkIfNotDisabled(this)&&(smartAjax.clearFormErrors(getCurrentForm()),setCurrentForm("register-form"),smartAjax.setCurrentForm(getCurrentForm()),$(".card-content.switcher-box").animate({marginLeft:"0"}),$(".inner-box").animate({marginLeft:"100%"}),manageTabIndexAttr())}),$("#moveLogin, #moveLogin2").click(function(){smartAjax.checkIfNotDisabled(this)&&(smartAjax.clearFormErrors(getCurrentForm()),setCurrentForm("login-form"),smartAjax.setCurrentForm(getCurrentForm()),$(window).width()<=992?$(".card-content.switcher-box").animate({marginLeft:"0%"}):$(".card-content.switcher-box").animate({marginLeft:"50%"}),$(".inner-box").animate({marginLeft:"0"}),manageTabIndexAttr())}),$("#moveForgot").click(function(){smartAjax.checkIfNotDisabled(this)&&(smartAjax.clearFormErrors(getCurrentForm()),setCurrentForm("forgot-form"),smartAjax.setCurrentForm(getCurrentForm()),$(window).width()<=992?$(".card-content.switcher-box").animate({marginLeft:"0"}):$(".card-content.switcher-box").animate({marginLeft:"50%"}),$(".inner-box").animate({marginLeft:"-100%"}),manageTabIndexAttr())}),setStatus(),$(window).resize(function(){setStatus()}),$("#register-form").ajaxForm(smartAjax.defaultOptions),$("#forgot-form").ajaxForm(smartAjax.defaultOptions),$("#login-form").ajaxForm({beforeSubmit:smartAjax.beforeSubmit,success:afterSuccessLogin,error:smartAjax.onError})}),$(document).ready(function(){smartAjax.setCurrentForm("selfDeleteForm"),$("#selfDeleteForm").ajaxForm(smartAjax.defaultOptions)}),$(document).ready(function(){smartAjax.setCurrentForm("reset-password-form"),$("#reset-password-form").ajaxForm(smartAjax.defaultOptions)});